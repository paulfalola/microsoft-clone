(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[891],{82042:function(t,e,r){"use strict";r.d(e,{Z:function(){return P}});var n=r(26265),u=r(809),i=r.n(u),o=r(92447),c=r(74047),s=r(52700),a=r(33814),p=r(44102),f=r(20775),l=r(11752),b=r(67294),E=r(61974),v=r(95398),y=b.createElement;function O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?O(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function h(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,f.Z)(t);if(e){var u=(0,f.Z)(this).constructor;r=Reflect.construct(n,arguments,u)}else r=n.apply(this,arguments);return(0,p.Z)(this,r)}}var P=function(t){return function(e){(0,a.Z)(n,e);var r=h(n);function n(){return(0,c.Z)(this,n),r.apply(this,arguments)}return(0,s.Z)(n,[{key:"UNSAFE_componentWillMount",value:function(){var t=this.props.config;!(0,v.get)(v.CONFIG)&&Boolean(t)&&(0,E.isBrowser)()&&function(t){(0,v.set)(v.CONFIG,t)}(t)}},{key:"render",value:function(){return y(t,this.props)}}],[{key:"getInitialProps",value:function(){var e=(0,o.Z)(i().mark((function e(r){var n,u,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getInitialProps||(0,o.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{});case 1:case"end":return t.stop()}}),t)}))),e.next=3,n(r);case 3:return u=e.sent,c=(0,l.default)().publicRuntimeConfig,e.abrupt("return",_(_({},u),{},{config:c}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(b.Component)}},85737:function(t,e,r){"use strict";var n=r(809),u=r.n(n),i=r(26265),o=r(92447),c=r(74047),s=r(52700),a=r(33814),p=r(44102),f=r(20775),l=r(18205),b=r(27361),E=r.n(b),v=r(11752),y=r(67294),O=r(44131),_=r(17093),h=r(50099),P=r(61974),m=r(9323),d=r(73398),g=r(34742),S=r(47169),I=r(96671),L=r(48258),w=r(33940),T=r(18220),A=y.createElement;function N(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function R(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?N(Object(r),!0).forEach((function(e){(0,i.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function k(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,f.Z)(t);if(e){var u=(0,f.Z)(this).constructor;r=Reflect.construct(n,arguments,u)}else r=n.apply(this,arguments);return(0,p.Z)(this,r)}}e.Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){var r=function(r){(0,a.Z)(i,r);var n=k(i);function i(){var t;(0,c.Z)(this,i);var e=(t=n.apply(this,arguments)).props,r=e.useAnalytics,u=e.geodata;if(t.useAnalytics=r,(0,P.isBrowser)()&&t.useAnalytics){var o=(0,v.default)().publicRuntimeConfig.tealiumEnv||"dev";(0,d.VX)()&&!(0,d.yV)()||l.initialize(o),t.metricsTrackerPromise=null===L||void 0===L?void 0:L.initMetricsTracker(u)}return t}return(0,s.Z)(i,[{key:"render",value:function(){return A(e,this.props)}},{key:"componentDidMount",value:function(){var e=(0,o.Z)(u().mark((function e(){var r,n,i,o,c,s,a,p,f,b,v,y,m,d,g,I,A,N,k,D,C;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=this.props,n=r.program,i=r.collectionCount,o=r.layout,c=r.isHiswitch,s=r.userIsLoggedIn,a=r.userIsSubscriber,p=r.asPath,f=r.isSufReturningCustomer,b=E()(o,"detailEntity.id",null),v=E()(o,"detailEntity.name",null),y=E()(o,"detailEntity.network",null),(0,P.isBrowser)()&&this.useAnalytics&&(m=p,d=(0,_.s)(m),g=d===h.SERIES||d===h.MOVIE,I=(0,T.Z5)(v,b,d),A=!window.HULU.firedFirstImpression,(0,O.CR)(),N=s?a?"existing-subscriber":"classic-subscriber":"anonymous",k=s?a?"plus":"loggedin":"anonymous",t&&((D=R({},t)).customer_type=N,D.device_category=(0,O.l7)().toLowerCase(),D.page_name=m.substring(1),D.partner_name=n&&n.partner||"default",D.customer_sublevel=k,D.is_hiswitch=Boolean(c),D.is_suf_returning_customer=f,d&&(D.page_type="signup_".concat(d)),g&&(b&&(D.content_id=b),y&&(D.network_name=y.toLowerCase()),D.content_type=d,I&&(D.page_name=I)),A&&l.view(D)),C=function(){A&&L.trackEvent(w.EC.PAGE_IMPRESSION.TYPE,{hit_version:w.EC.PAGE_IMPRESSION.VERSION,is_first_impression:A,duration:L.getPageImpressionDuration(A),curr_page_uri:I||"".concat((0,S.Fo)()).concat(m),page_source:d?"heimdall":"app",curr_page_type:d||"landing",collection_count:i,is_suf_returning_customer:f})},this.metricsTrackerPromise?this.metricsTrackerPromise.then(C):C(),window.HULU.firedFirstImpression=!0);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"getInitialProps",value:function(){var t=(0,o.Z)(u().mark((function t(r){var n,i,c,s,a,p,f,l,b,v,y;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.getInitialProps||(0,o.Z)(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{});case 1:case"end":return t.stop()}}),t)}))),t.next=3,n(r);case 3:return i=t.sent,c=r.req,s=r.asPath,a=(0,T.JH)(c),p=E()(i,"layout.metrics.collectionCount",void 0),f=E()(i,"layout.program.hiswitchPackages",null),l=f&&f.length>0,b=c.subscriber,v=(0,I.jl)(r),y=(0,g.m0)(b),t.abrupt("return",R(R({},i),{},{useAnalytics:a,collectionCount:p,isHiswitch:l,userIsLoggedIn:v,userIsSubscriber:y,asPath:s}));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),i}(y.Component);return r.displayName=(0,m.G)("withMetrics",e),r}}},64785:function(t,e,r){"use strict";r.d(e,{Z:function(){return j}});var n=r(26265),u=r(809),i=r.n(u),o=r(92447),c=r(74047),s=r(52700),a=r(33814),p=r(44102),f=r(20775),l=r(27361),b=r.n(l),E=r(67294),v=r(50099),y=r(27427),O=r(34742),_=(r(94301),r(41609),r(31467)),h=r(32200),P=r(34155),m={logName:"Splat"},d="/v2",g="/cohorts",S=(v.SPLAT_MESSAGES.INELIGIBLE_PARTNER_CODE,v.SPLAT_MESSAGES.INELIGIBLE_SUBSCRIPTION_STATUS_CODE,v.SPLAT_MESSAGES.INVALID_CODE,v.SPLAT_MESSAGES.NO_ACCOUNT_CHANGE,v.SPLAT_MESSAGES.INELIGIBLE_PRODUCT_ALREADY_PURCHASED,v.SPLAT_MESSAGES.OTP_ALREADY_PURCHASED,function(t){return{"Content-Type":"application/json","X-Hulu-User-Id":t,Authorization:"Basic ".concat(P.env.SPLAT_BASIC_AUTH)}});function I(t,e){return L.apply(this,arguments)}function L(){return(L=(0,o.Z)(i().mark((function t(e,r){var n,u,o,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],u="".concat((0,_.X)("splat")).concat(d).concat(g,"?cohorts=").concat(r),o=S(e),t.prev=3,t.next=6,fetch(u,{headers:o});case 6:(c=t.sent).ok&&(n=c.json()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),h.an.debug("Error received from ".concat(u),t.t0,m);case 13:return t.abrupt("return",n);case 14:case"end":return t.stop()}}),t,null,[[3,10]])})))).apply(this,arguments)}var w=function(){var t=(0,o.Z)(i().mark((function t(e,r,n){var u,o,c,s,a,p,f;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=!1,o=v.ANON,e){t.next=4;break}return t.abrupt("return",{entitlementFlag:u,entitlementState:o});case 4:return c=b()(n,"subscription.status.value",null),s=[v.COHORTS.SPLIT_BILLED,r].join(","),t.next=8,I(e,s);case 8:if(a=t.sent,p=(0,O.JP)(v.COHORTS.SPLIT_BILLED,a),!(!c||p||(0,O.k9)(n)&&!(0,O.Tk)(n)||(0,O.bk)(n))){t.next=12;break}return t.abrupt("return",{entitlementFlag:!0,entitlementState:v.INELIGIBLE});case 12:if((0,O.m0)(n)){t.next=14;break}return t.abrupt("return",{entitlementFlag:u,entitlementState:o});case 14:return(0,O.Gc)(r,n)?(u=!0,o=v.FULLY_ENTITLED):(f=(0,O.JP)(r,a),u=!0,o=f?v.PARTIALLY_ENTITLED:v.PARTIALLY_ENTITLED_NOT_ENROLLED),t.abrupt("return",{entitlementFlag:u,entitlementState:o});case 17:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),T=r(9323),A=r(96671),N=E.createElement;function R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function k(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?R(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function D(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,f.Z)(t);if(e){var u=(0,f.Z)(this).constructor;r=Reflect.construct(n,arguments,u)}else r=n.apply(this,arguments);return(0,p.Z)(this,r)}}var C={logName:"ProfileSubscription"},j=function(t){var e=function(e){(0,a.Z)(n,e);var r=D(n);function n(){return(0,c.Z)(this,n),r.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){return N(t,this.props)}}],[{key:"getInitialProps",value:function(){var e=(0,o.Z)(i().mark((function e(r){var n,u,c,s,a,p,f,l,E,_,P,m,d,g,S,I,L,T,N,R;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getInitialProps||(0,o.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{});case 1:case"end":return t.stop()}}),t)}))),e.next=3,n(r);case 3:if(u=e.sent,c=15,"undefined"!==typeof(s=r.req)){e.next=10;break}if(!__NEXT_DATA__){e.next=9;break}return e.abrupt("return",__NEXT_DATA__.props);case 9:h.L4.error("".concat(window&&window.location?window.location:"unknown url",": __NEXT_DATA__ is undefined."),C);case 10:if(a=b()(u,"layout.options",{}),p=(0,y.ej)(v.COOKIES.PROFILE_NAME,r)||"",f=(0,A.jl)(r),l=b()(s,"cookies[".concat(v.COOKIES.HULU_UID,"]"),!1),E=b()(a,"cohortCheck",!1),_=b()(a,"checkProgramWindow",!1),P=b()(u,"layout.program.type",null),m=!1,d=v.ANON,g=!1,S=!1,I=s.subscriber,L=b()(I,"subscriberStatus"),m=!0,L===v.ENTITLED?d=v.FULLY_ENTITLED:L===v.ELIGIBLE_TO_ADDON?d=v.PARTIALLY_ENTITLED_NOT_TO_ADDONS:L&&(d=v.PARTIALLY_ENTITLED),g=(0,O.m0)(I),T=b()(I,"user.partnerName",""),S=T.toLowerCase()===v.PARTNER_TYPE_APPLE,!_||P){e.next=33;break}d=v.INACTIVE,m=!0,e.next=43;break;case 33:if(!a.shouldCheckForPrepaid||!l){e.next=37;break}try{d!==v.FULLY_ENTITLED||(0,O.bk)(I)||(d=v.PARTIALLY_ENTITLED,m=!0)}catch(D){h.L4.error(D,C)}e.next=43;break;case 37:if(!E||!l){e.next=43;break}return e.next=40,w(l,E,s.subscriber);case 40:N=e.sent,d=b()(N,"entitlementState"),m=b()(N,"entitlementFlag");case 43:return R={isHuluUser:f,isSubscriber:g,entitlementState:d,entitlementFlag:m,isAppleBilled:S,name:decodeURIComponent(p).replace("+"," ").substring(0,c)},e.abrupt("return",k(k({},u),{},{user:R}));case 45:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(E.Component);return e.displayName=(0,T.G)("withProfileSubscription",t),e}},95398:function(t,e,r){var n=r(61682);function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var i=r(90023),o={};t.exports=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({get:function(t){return o[t]},set:function(t,e){return o[t]=e}},i)},90023:function(t){t.exports={ROUTES_CONFIG:"routesConfig",CONFIG:"isomorphicConfig"}},34742:function(t,e,r){"use strict";r.d(e,{Gc:function(){return l},Tk:function(){return p},m0:function(){return f},k9:function(){return a},JP:function(){return b},bk:function(){return s}});var n=r(27361),u=r.n(n),i=r(41609),o=r.n(i),c=r(50099),s=function(t){var e=u()(t,"subscription.plan.billingType");return Boolean(e)&&c.PREPAID_BILLING_TYPES.includes(e)},a=function(t){var e;return!!(null===t||void 0===t||null===(e=t.user)||void 0===e?void 0:e.partnerName)&&(!function(t){var e;return(null===t||void 0===t||null===(e=t.user)||void 0===e?void 0:e.partnerName)===c.BILLING_PARTNER.HULU}(t)&&!function(t){var e;return(null===t||void 0===t||null===(e=t.user)||void 0===e?void 0:e.partnerName)===c.BILLING_PARTNER.CLASSIC}(t))},p=function(t){return u()(t,"subscription.status.value")===c.CANCELLED_SUBSCRIBER},f=function(t){return function(t){return u()(t,"subscription.status.value")===c.ACTIVE_SUBSCRIBER}(t)||function(t){return u()(t,"subscription.status.value")===c.ON_HOLD_SUBSCRIBER}(t)||function(t){return u()(t,"subscription.status.value")===c.PAUSED_SUBSCRIBER}(t)||function(t){return u()(t,"subscription.status.value")===c.PENDING_CANCEL_SUBSCRIBER}(t)},l=function(t,e){var r=u()(e,"subscription.plan.badges",[]),n=r&&r.find((function(e){return u()(e,"key")===t}));return!o()(n)},b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.find((function(e){return u()(e,"name")===t}));return u()(r,"result",!1)}}}]);
//# sourceMappingURL=891-989391f7b16b035c486c.js.map